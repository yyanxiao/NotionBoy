(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{29380:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return a(44263)}])},63006:function(e,t,a){"use strict";a.d(t,{H:function(){return w}});var s=a(11527),r=a(50959),i=a(87765),n=a.n(i),l=a(49300),d=a(24242),o=a(71590),c=a(51308),f=a(29140);let u=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(d.fC,{ref:t,className:(0,f.cn)("relative z-10 flex flex-1 items-center justify-center",a),...i,children:[r,(0,s.jsx)(N,{})]})});u.displayName=d.fC.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.aV,{ref:t,className:(0,f.cn)("group flex flex-1 list-none items-center justify-center",a),...r})});m.displayName=d.aV.displayName;let x=d.ck,p=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:bg-slate-100 disabled:opacity-50 dark:focus:bg-slate-800 disabled:pointer-events-none bg-transparent hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-100 dark:hover:text-slate-100 data-[state=open]:bg-slate-50 dark:data-[state=open]:bg-slate-800 data-[active]:bg-slate-50 dark:data-[active]:bg-slate-800 h-10 py-2 px-4 group w-max"),h=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(d.xz,{ref:t,className:(0,f.cn)(p(),"group",a),...i,children:[r," ",(0,s.jsx)(c.Z,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})});h.displayName=d.xz.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.VY,{ref:t,className:(0,f.cn)("top-0 left-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=to-start]:slide-out-to-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=from-end]:slide-in-from-right-52 md:absolute md:w-auto ",a),...r})});g.displayName=d.VY.displayName;let j=d.rU,N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:(0,f.cn)("absolute left-0 top-full flex justify-center"),children:(0,s.jsx)(d.l_,{className:(0,f.cn)("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border border-slate-200 bg-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:zoom-in-90 data-[state=closed]:zoom-out-95 dark:border-slate-700 dark:bg-slate-800 md:w-[var(--radix-navigation-menu-viewport-width)]",a),ref:t,...r})})});N.displayName=d.l_.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.z$,{ref:t,className:(0,f.cn)("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=visible]:fade-in data-[state=hidden]:fade-out",a),...r,children:(0,s.jsx)("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-slate-200 shadow-md dark:bg-slate-800"})})});function v(){let e=(e,t)=>(0,s.jsx)(n(),{href:e,legacyBehavior:!0,passHref:!0,children:(0,s.jsx)(j,{className:p(),children:(0,s.jsx)("span",{className:"font-bold",children:t})})});return(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)(u,{children:(0,s.jsx)(m,{children:(0,s.jsxs)(x,{children:[e(l.J.links.home,l.J.name),e(l.J.links.chatgpt,"Chat"),e(l.J.links.price,"Pricing")]})})})})}y.displayName=d.z$.displayName;var b=a(3933);function w(){return(0,s.jsxs)("header",{className:"flex items-center justify-between md:sticky top-0 w-full  border-b border-b-slate-200 bg-white dark:border-b-slate-700 dark:bg-slate-900",children:[(0,s.jsx)(v,{}),(0,s.jsx)(b.c_,{})]})}},29423:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return h},Vq:function(){return d},cN:function(){return x},cZ:function(){return u},fK:function(){return m},hg:function(){return o}});var s=a(11527),r=a(50959),i=a(62084),n=a(78944),l=a(29140);let d=i.fC,o=i.xz,c=e=>{let{className:t,children:a,...r}=e;return(0,s.jsx)(i.h_,{className:(0,l.cn)(t),...r,children:(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center sm:items-center",children:a})})};c.displayName=i.h_.displayName;let f=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsx)(i.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=open]:fade-in data-[state=closed]:fade-out",a),...n,ref:t})});f.displayName=i.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(i.VY,{ref:t,className:(0,l.cn)("fixed z-50 grid w-full gap-4 rounded-b-lg bg-white p-6 animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0","dark:bg-slate-900",a),...d,children:[r,(0,s.jsxs)(i.x8,{className:"absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900 dark:data-[state=open]:bg-slate-800",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-slate-900","dark:text-slate-50",a),...r})});p.displayName=i.Dx.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-slate-500","dark:text-slate-400",a),...r})});h.displayName=i.dk.displayName},44263:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(11527),r=a(50959),i=a(63006),n=a(64271),l=a(29423),d=a(49300),o=a(4379),c=a(44157),f=a(29140),u=a(31232),m=a(73125),x=a(31792);let p=e=>{let{cfg:t,onSuccess:a}=e;return(0,r.useEffect)(()=>{let e=()=>{t&&(null==WeixinJSBridge||WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,timeStamp:t.timestamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign},e=>{"get_brand_wcpay_request:ok"===e.err_msg&&a()}))};"undefined"==typeof WeixinJSBridge?document.addEventListener("WeixinJSBridgeReady",e,!1):e()},[]),(0,s.jsx)("div",{})};var h=a(26162),g=a.n(h);function j(){let[e,t]=(0,r.useState)(""),[a,h]=(0,r.useState)(),[j,N]=(0,r.useState)(!1),[y,v]=(0,r.useState)(),[b,w]=(0,r.useState)(),{toast:k}=(0,o.pm)(),S=(0,m.useRouter)();(0,r.useEffect)(()=>{if(!(0,f.bg)()){S.push(d.J.links.login);return}},[]),(0,r.useEffect)(()=>{if(S.isReady){let{product:e}=S.query;e&&t(e.toString())}},[S]),(0,r.useEffect)(()=>{e&&c.t.GetProduct({id:e}).then(e=>{h(e)}).catch(e=>{k({variant:"destructive",title:"Get product error",description:JSON.stringify(e)})})},[e]);let _=async()=>{let t;try{if(!(t=await c.t.CreateOrder({productId:e})))return}catch(e){k({variant:"destructive",title:"Create order error",description:JSON.stringify(e)});return}try{let e=await c.t.PayOrder({id:t.id});e.qrcode?v(e.qrcode):e.config?w(e.config):k({variant:"destructive",title:"Get QRcdode error",description:"Do not get qrcode"})}catch(e){k({variant:"destructive",title:"pay order error",description:JSON.stringify(e)})}let a=setInterval(()=>{t&&c.t.GetOrder({id:t.id}).then(e=>{"Completed"==e.status?(clearInterval(a),N(!1),k({variant:"default",title:"Success pay for order",description:"Order success"}),S.push("/")):("Paid"==e.status||"Processing"==e.status)&&N(!0)})},5e3),s=setTimeout(()=>{clearInterval(a),N(!1)},3e5);return()=>{N(!1),clearInterval(a),clearTimeout(s)}},z=()=>-1!=window.navigator.userAgent.indexOf("MicroMessenger")?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.Vq,{children:[(0,s.jsx)(l.hg,{onClick:_,asChild:!0,children:(0,s.jsx)(n.z,{className:"w-full",children:"微信支付"})}),(0,s.jsxs)(l.cZ,{children:[(0,s.jsxs)(l.fK,{children:[(0,s.jsx)(l.$N,{children:"微信支付"}),(0,s.jsx)(l.Be,{children:"请稍后，正在为您跳转到微信支付"})]}),(0,s.jsxs)("div",{className:"inline-flex items-center justify-center w-full ",children:[C(),b&&(0,s.jsx)(p,{cfg:b,onSuccess:()=>{}})]})]})]})}):(0,s.jsxs)(l.Vq,{children:[(0,s.jsx)(l.hg,{onClick:_,asChild:!0,children:(0,s.jsx)(n.z,{className:"w-full",children:"微信支付"})}),(0,s.jsxs)(l.cZ,{children:[(0,s.jsxs)(l.fK,{children:[(0,s.jsx)(l.$N,{children:"扫码支付"}),(0,s.jsx)(l.Be,{children:"请扫描下方二维码进行进行支付"})]}),(0,s.jsxs)("div",{className:"inline-flex items-center justify-center w-full ",children:[C(),y&&(0,s.jsx)(x.tv,{className:"w-1/3",size:192,value:y})]})]})]}),C=()=>{if(j)return(0,s.jsx)("div",{className:"fixed inset-0 z-10 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsx)(u.Z,{className:"w-10 h-10 text-white animate-spin",strokeWidth:"2"})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g(),{src:"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"}),(0,s.jsx)(i.H,{}),(()=>{if(a)return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-2xl p-10 mx-auto my-24 bg-white border border-gray-200 rounded-lg shadow-sm ",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1 m-12",children:[(0,s.jsx)("div",{className:"flex",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"text-lg",children:a.name}),(0,s.jsx)("ul",{}),(0,s.jsx)("p",{className:"mt-1 text-gray-500",children:a.description}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"mt-1 text-gray-500",children:["- ",a.token," OpenAI Token"]}),(0,s.jsxs)("li",{className:"mt-1 text-gray-500",children:["- ",a.storage," MB Storage"]})]})]})}),(0,s.jsx)("div",{className:"flex justify-end flex-1 pt-2",children:(0,s.jsxs)("p",{className:"mt-1 font-medium text-gray-900",children:["总价 \xa5 ",a.price]})})]}),z()]})})})})()]})}}},function(e){e.O(0,[593,703,84,39,933,774,888,179],function(){return e(e.s=29380)}),_N_E=e.O()}]);
